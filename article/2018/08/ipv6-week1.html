<html>
 <body>
  <div class="post-body entry-content float-container" id="post-body-4465284705883634190">
   <h3>
    序
   </h3>
   工作需求必須從頭到尾了解 IPv6 這項技術
   <br/>
   <div>
    <br/>
   </div>
   <div>
    所以好像回到大學時期，重新看了 NTHU
    <u>
     黃能富
    </u>
    教授經營的學聯網 ( 課程已關閉 )
   </div>
   <div>
    <br/>
   </div>
   <div>
    但既然重看了，那就索性作筆記但不會太詳細 ( 因為沒人會考我XD )。
   </div>
   <div>
    <br/>
   </div>
   <div>
    參考資料
   </div>
   <div>
    <a href="http://www.sharecourse.net/sharecourse/course/view/courseInfo/475">
     http://www.sharecourse.net/sharecourse/course/view/courseInfo/475
    </a>
   </div>
   <div>
    <br/>
   </div>
   <h3>
    Week 1
   </h3>
   <div>
    <b>
     1. IPv6 之於 IPv4
    </b>
   </div>
   <div>
    <br/>
   </div>
   <div>
    (1) 提供大量 IP 位址，加速連線 ( 因為位址明確 ， 無須 NAT...等技術 )
   </div>
   <div>
    <br/>
   </div>
   <div>
    (2) 精簡 Header ( 因為各Layer功能漸強可以 Cover 或用其他方法表示 )
   </div>
   <div>
   </div>
   <div>
    i.   Header 長度固定 ( 40 bytes )
   </div>
   <div>
    ii.  移除 checksum ( Layer2可以做檢查 )
   </div>
   <div>
    iii. 移除切割封包功能 ( Source 端自己做 )
   </div>
   <div>
    <br/>
   </div>
   <div>
    (3) 利用 Extension Header 來完成 IPv4 的 Option 功能 ( Ex.RoutingHeader、FragmentHeader ... )
   </div>
   <div>
    <br/>
   </div>
   <div>
    <b>
     2. IPv6 Addressing
    </b>
   </div>
   <div>
    <br/>
   </div>
   <div>
    (1) 3種位址 Unicast ( 傳給指定位址 )、Multicast ( 傳給指定某群位址 )、Antcast ( 誰都可轉送 )
   </div>
   <div>
    <br/>
   </div>
   <div>
    (2) IPv6 表示法 (128 bits)
   </div>
   <div>
    <br/>
   </div>
   <div>
    <div>
     i.   FEDC:BA98:7654:3210:FEDC:BA98:7654:3210
    </div>
    <div>
     ii.  1080:0:0:0:8:800:200C:417A
    </div>
    <div>
     iii. 1080::8:800:200C:417A ( 用連續兩個冒號表示連續 16 bits的0 ， 但若有2組以上則不行，因為不知道長度 )
    </div>
   </div>
   <div>
    <br/>
   </div>
   <div>
    (3) Addresses Formats
   </div>
   <div>
    <br/>
   </div>
   <div>
    <div>
     <a href="https://en.wikipedia.org/wiki/IPv6_address">
      https://zh.wikipedia.org/wiki/IPv6
     </a>
    </div>
   </div>
   <div>
    <br/>
   </div>
   <div>
    <b>
     3.
    </b>
    <b>
     IPv6 功能
    </b>
   </div>
   <div>
    <br/>
   </div>
   <div>
    (1) ICMPv6 ( Internet Control Message Protocol ) 的功能
    <br/>
    <br/>
   </div>
   <div>
    <a href="https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE%E7%AC%AC%E5%85%AD%E7%89%88">
     https://zh.wikipedia.org/wiki/網際網路控制訊息協定第六版
    </a>
   </div>
   <div>
    <br/>
   </div>
   <div>
    (2) Supports IGP (Interior Gateway Protocol) and EGP (Edge Gateway Protocol)
   </div>
   <div>
    <br/>
   </div>
   <div>
    <div>
     i.   IGP -&gt; RIPng(RFC 2080)、OSPFv3(RFC 2740)
    </div>
    <div>
     ii.  EGP -&gt; MP-BGP4(RFC 2858 and RFC 2545) 、 BGP4+
    </div>
   </div>
   <div>
    <br/>
   </div>
   <div>
    (3) Plug-and-Play ( Auto Configuration )
   </div>
   <div>
    <br/>
   </div>
   <div>
    <div>
     i.   電腦會自動 註冊和產生所有連網必要之參數
    </div>
    <div>
     ii.  可以隨時變更 ISP provider
    </div>
   </div>
   <div>
    iii. 可以擁有多個IPv6位址、 IPv6位址有有效期限
   </div>
   <div>
    iv.  2種 modes : stateless 跟 stateful ( using DHCPv6 )
   </div>
   <div>
   </div>
   <div>
    流程 : 自動產生 link-local address ( FE80:: + 48bits Ethernet address )
   </div>
   <div>
    加入一個 All nodes 的 Group 已收到Group裡的訊息 ( FF02::1 )
   </div>
   <div>
    發送 Solicitation Message 到 Router 的 Group ( FF02::2 )
   </div>
   <div>
    Router 發送 Router Advertisement ( 裡面包含Router給的IPv6位址 )
   </div>
   <div>
    <br/>
   </div>
   <div>
    <b>
     4. Basic Algorithm
    </b>
   </div>
   <div>
    <br/>
   </div>
   <div>
    (1) 利用 ICMPv6 達到 ARP 的效果 ( Neighbor Solicitation... )
   </div>
   <div>
    <br/>
   </div>
   <div>
    (2)  HOST 擁有 4 個 cache
   </div>
   <div>
    <br/>
   </div>
   <div>
    <div>
     <div>
      i.   The desination's cache ( 紀錄 目的地的 IP 跟 經過的 IP )
     </div>
     <div>
      ii.  The neighbor's cache   ( 紀錄  Neighbor's IP 跟 MAC )
     </div>
    </div>
    <div>
     iii. The prefix list  ( 相連Routers 給的 prefix )
    </div>
    <div>
     iv.  The router list  ( 相連Routers )
    </div>
   </div>
   <div>
    <br/>
   </div>
   <div>
    (3) 送封包流程
   </div>
   <div>
    <br/>
   </div>
   <div>
    <div>
     <div>
      i.   先找 The desination's cache
     </div>
     <div>
      ii.  再找 The prefix list ( 看是否在同個子網路下 )
     </div>
    </div>
    <div>
     iii. 透過 Router 發送並更新 cache
    </div>
    <div>
     <br/>
    </div>
    <div>
     <b>
      5. IPv6 Flows and Flow Label
     </b>
    </div>
    <div>
     <br/>
    </div>
    <div>
     (1) IPv6 Real-time Support ( 用不同 Flow 來達到 Priority 的效果 )
     <br/>
     <br/>
     <b>
      6. IPv6 Security Support
     </b>
     <br/>
     <b>
      <br/>
     </b>
     (1) 所有 IPv6 封包都需要支援 authentication 跟 encryption Headers
    </div>
   </div>
  </div>
 </body>
</html>